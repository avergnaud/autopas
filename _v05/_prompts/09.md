# Prompt 09

## Demande

Le traitement semblait bloqué à "Anonymisation en cours…" (15%). L'utilisateur ne pouvait pas distinguer un vrai blocage d'une étape longue (appel Claude). Demande :
1. Logs serveur détaillés avec timings par étape
2. Affichage visuel des étapes dans le frontend (stepper)

## Implémentation

### `app/services/response_generator.py`
- `import time` ajouté
- `t0 = time.monotonic()` au début du pipeline
- `logger.info("[GEN id] Étape N — … : X.Xs")` à chaque début/fin d'étape avec timing
- `progress_step` enrichi avec les comptes (nb questions, nb réponses, nb références)
- Log final du temps total écoulé
- Les labels de `progress_step` renseignent mieux l'état courant (ex: "Appel Claude — génération des réponses (N questions)…")

### `web/app.js`
- Constante `PIPELINE_STEPS` : tableau des 9 étapes avec `donePct` (seuil de complétion)
- `renderPipelineSteps(pct)` : génère le `<ol>` avec état done/active/pending par étape
- `poll()` : appelle `renderPipelineSteps(pct)` à chaque tick

### `web/private.html`
- `<ol id="gen-pipeline-steps" class="pipeline-steps">` ajouté dans `#gen-in-progress`

### `web/style.css`
- `.pipeline-steps` : liste flex verticale centrée
- `.pipeline-step.done` : vert avec ✓
- `.pipeline-step.active` : bleu + mini spinner `.spinner-sm`
- `.pipeline-step.pending` : gris clair
